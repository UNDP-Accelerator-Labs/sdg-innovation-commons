# ============================================================================
# STAGING ENVIRONMENT
# ============================================================================
# Use this for staging/testing environment before production

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3000
NEXTAUTH_URL=https://staging.yourdomain.com

# ============================================================================
# DATABASE CONFIGURATION (Azure PostgreSQL Recommended)
# ============================================================================
DATABASE_URL=postgres://username@servername:password@servername.postgres.database.azure.com:5432/dbname_staging?sslmode=require
GENERAL_DB_HOST=servername.postgres.database.azure.com
GENERAL_DB_USER=username@servername
GENERAL_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
GENERAL_DB_NAME=dbname_staging
GENERAL_DB_PORT=5432

# Additional DB connections (if using)
BLOG_DB_HOST=servername.postgres.database.azure.com
BLOG_DB_USER=username@servername
BLOG_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
BLOG_DB_NAME=blog_staging

SOLUTIONS_DB_HOST=servername.postgres.database.azure.com
SOLUTIONS_DB_USER=username@servername
SOLUTIONS_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
SOLUTIONS_DB_NAME=solutions_staging

EXPERIMENT_DB_HOST=servername.postgres.database.azure.com
EXPERIMENT_DB_USER=username@servername
EXPERIMENT_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
EXPERIMENT_DB_NAME=experiments_staging

LEARNINGPLAN_DB_HOST=servername.postgres.database.azure.com
LEARNINGPLAN_DB_USER=username@servername
LEARNINGPLAN_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
LEARNINGPLAN_DB_NAME=learning_plans_staging

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# IMPORTANT: Generate unique secrets for staging
# Generate with: openssl rand -hex 32
APP_SECRET=REPLACE_WITH_GENERATED_SECRET
NEXTAUTH_SECRET=REPLACE_WITH_GENERATED_SECRET

# ============================================================================
# QDRANT VECTOR DATABASE
# ============================================================================
# For Docker Compose: use service name
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=REPLACE_WITH_GENERATED_KEY

# For Kubernetes: use service DNS
# QDRANT_HOST=qdrant-service.sdg-innovation-commons.svc.cluster.local

# ============================================================================
# REDIS CACHE
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ============================================================================
# SEMANTIC SEARCH SERVICE
# ============================================================================
# For Docker Compose:
SEMANTIC_SEARCH_URL=http://semantic-search:8000
SEMANTIC_SEARCH_API_KEY=REPLACE_WITH_GENERATED_KEY

# For Kubernetes:
# SEMANTIC_SEARCH_URL=http://semantic-search-service.sdg-innovation-commons.svc.cluster.local:8000

ALLOWED_ORIGINS=https://staging.yourdomain.com,https://www.staging.yourdomain.com

# ============================================================================
# EXTERNAL APIs
# ============================================================================
OPENCAGE_API=your-opencage-api-key
ACCLAB_PLATFORM_KEY=your-platform-key-staging
BLOG_API_TOKEN=your-blog-token-staging

# ============================================================================
# EMAIL/SMTP CONFIGURATION
# ============================================================================
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_USER=staging@yourdomain.com
SMTP_PASS=REPLACE_WITH_SMTP_PASSWORD

# ============================================================================
# AZURE STORAGE
# ============================================================================
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=stagingstorage;AccountKey=REPLACE;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER=staging-uploads

# ============================================================================
# WORKER CONFIGURATION
# ============================================================================
WORKER_CONCURRENCY=2
WORKER_INTERVAL=60

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO

# Optional: Application Insights / Monitoring
# APPINSIGHTS_INSTRUMENTATIONKEY=your-key
# SENTRY_DSN=your-sentry-dsn
