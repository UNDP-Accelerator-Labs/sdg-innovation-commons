# Example environment variables for local development and production
# Copy this file to .env.local and fill in real values. DO NOT commit real secrets.

#============================================
# CI/CD NOTE
#============================================
# For GitHub Actions CI/CD, these secrets should be set as GitHub Secrets:
# - Run: ./scripts/setup-github-secrets.sh
# - Or manually add them at: Settings > Secrets and variables > Actions

#============================================
# APPLICATION / AUTH
#============================================
APP_ID='exp'
APP_SUITE='secret_app_suite_name'
# Generate with: openssl rand -base64 32
APP_SECRET='your_app_secret_here'
APP_SESSION_KEY='secret_session_key_here'
AUTH_URL='http://localhost:3000/api/auth'
AUTH_SECRET=''

#============================================
# NEXTAUTH CONFIGURATION
#============================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=
NEXTAUTH_URL=http://localhost:3000

#============================================
# DATABASE (Azure PostgreSQL - Already Configured)
#============================================
# Option 1: Connection string
DATABASE_URL=postgresql://username:password@servername.postgres.database.azure.com:5432/dbname?sslmode=require

# Option 2: Individual parameters

# NextAuth.js v5 (Auth.js) configuration
# NEXTAUTH_URL should be your app's URL (update for production)
NEXTAUTH_URL='http://localhost:3000'
# NEXTAUTH_SECRET can use APP_SECRET or generate a new one: openssl rand -base64 32
NEXTAUTH_SECRET='your_nextauth_secret_here'

# JWT Configuration (for legacy API compatibility)
JWT_AUDIENCE='sdg-innovation-commons'
JWT_ISSUER='sdg-innovation-commons'

# Authentication Feature Flags
# Set to 'false' to disable UNDP SSO (Single Sign-On) login tab
NEXT_PUBLIC_ENABLE_UNDP_SSO='true'
# Set to 'false' to disable standard email/password authentication
NEXT_PUBLIC_ENABLE_EMAIL_AUTH='true'

NODE_ENV='development'

# Optional misc
NODE_ENVMT='local-production'
LOG_SQL='false'
OLLAMA_MODEL='llama3.2'

# Platform / external API keys
OPENCAGE_API='your_opencage_api_key'
ACCLAB_PLATFORM_KEY='your_acclab_platform_key_here'
BLOG_API_TOKEN='your_blog_api_token_here'

# General database connection (used by db.ts)
# Either set DATABASE_URL (preferred) or the individual DB_* variables below.
DATABASE_URL='postgres://user:password@localhost:5432/dbname'
# Or individual connection vars (example placeholders)
GENERAL_DB_HOST='db-host.example.com'
GENERAL_DB_USER='db_user'
GENERAL_DB_PASSWORD='db_password'
GENERAL_DB_NAME='postgres'
GENERAL_DB_PORT=5432
DB_REQUIRE_SSL=true

# Other DBs (optional; set only if used)
BLOG_DB_HOST='db-host.example.com'
BLOG_DB_USER='blog_user'
BLOG_DB_PASSWORD='blog_password'
BLOG_DB_NAME='blogs'
BLOG_DB_PORT=5432


# Email (SMTP) - required to send admin alerts in production
SMTP_HOST='smtp.example.com'
SMTP_PORT=587
SMTP_USER='no-reply@example.org'
SMTP_PASS='smtp_password'
# OR use a named service (e.g. 'Outlook365', 'Gmail')
SMTP_SERVICE=''
ADMIN_EMAILS='admin1@example.org;admin2@example.org'

# Azure / storage
AZURE_STORAGE_CONNECTION_STRING='DefaultEndpointsProtocol=...;AccountName=...;AccountKey=...;EndpointSuffix=core.windows.net'

# Docker / CI / registry (used by GitHub Actions)
REGISTRY_USERNAME='acr-username'
REGISTRY_PASSWORD='acr-password'

# Azure App Service publish profiles (base64 content) for deployment by GitHub Actions
AZURE_PUBLISH_PROFILE_STAGING='base64-encoded-publish-profile'
AZURE_PROD_PUBLISH_PROFILE='base64-encoded-publish-profile'

# Misc (used by CI / runtime)
LOCAL_BASE_URL='http://localhost:3000'
PROD_ENV='staging'

# Optional service toggles
SCM_DO_BUILD_DURING_DEPLOYMENT='false'
AZURE_EXPORT_ATTACH_LOCAL=0

NEXTAUTH_URL="https://your-actual-domain.com" # Set to your production URL

# NOTE: For security, never commit real secret values. Use your CI/CD secret store (GitHub Secrets, Azure Key Vault) for production.