# Semantic Search Service - Production Environment
# CRITICAL: Use Azure Key Vault or Kubernetes Secrets for production

# ============================================================================
# QDRANT VECTOR DATABASE
# ============================================================================
# For Docker Compose:
QDRANT_HOST=qdrant
# For Kubernetes:
# QDRANT_HOST=qdrant-service.sdg-innovation-commons.svc.cluster.local

QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_API_KEY=REPLACE_WITH_STRONG_GENERATED_KEY
QDRANT_COLLECTION_NAME=sdg_documents
QDRANT_USE_HTTPS=false

# ============================================================================
# API SECURITY
# ============================================================================
# CRITICAL: Generate strong secret for production
# Generate with: openssl rand -hex 32
API_SECRET_KEY=REPLACE_WITH_STRONG_GENERATED_SECRET
API_ALGORITHM=HS256

# Allowed origins (update with your actual production domains)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# SERVICE CONFIGURATION
# ============================================================================
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8000
LOG_LEVEL=WARN  # Use WARN or ERROR in production

# ============================================================================
# EMBEDDING MODEL
# ============================================================================
# Model is pre-cached in Docker image during build
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
# Device: cpu (or cuda if using GPU nodes in Kubernetes)
DEVICE=cpu

# ============================================================================
# REDIS CACHE
# ============================================================================
# For Docker Compose:
REDIS_HOST=redis
# For Kubernetes:
# REDIS_HOST=redis-service.sdg-innovation-commons.svc.cluster.local

REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
REDIS_ENABLED=true
REDIS_TTL=3600

# For Azure Redis Cache:
# REDIS_HOST=your-redis.redis.cache.windows.net
# REDIS_PORT=6380
# REDIS_TLS=true

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Max workers for embedding generation (adjust based on CPU cores)
MAX_WORKERS=4
# Batch size for embedding generation
BATCH_SIZE=64

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Optional: Application Insights / Sentry
# APPINSIGHTS_INSTRUMENTATIONKEY=your-key
# SENTRY_DSN=your-sentry-dsn
# SENTRY_ENVIRONMENT=production
